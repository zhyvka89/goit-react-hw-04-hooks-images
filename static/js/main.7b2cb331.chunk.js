(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={item:"ImageGalleryItem_item__ChwGR",itemImage:"ImageGalleryItem_itemImage__3vgJT","item-image":"ImageGalleryItem_item-image__36SPS"}},11:function(e,t,a){e.exports={buttonThumb:"Button_buttonThumb__PAxfu",button:"Button_button__3bDwX"}},12:function(e,t,a){e.exports={overlay:"Modal_overlay__2niAF",modal:"Modal_modal__19Qbm"}},16:function(e,t,a){e.exports={gallery:"ImageGalleryList_gallery__1AI4I"}},19:function(e,t,a){e.exports={container:"Container_container__2WUdA"}},26:function(e,t,a){},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__181Sr",searchForm:"Searchbar_searchForm__3UkJc",button:"Searchbar_button__2FTeX",input:"Searchbar_input__3Uiyh"}},50:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),o=a.n(c),i=(a(26),a(3)),s=a(14),u=a(2),l=a.n(u),h=a(10),m=a.n(h),b=a(0),d=function(e){var t=e.url,a=e.id,n=e.largeImage,r=e.tags,c=e.toggleModal,o=e.handleLargeImage;return Object(b.jsx)("li",{className:m.a.item,onClick:function(){return c(),void o(n)},children:Object(b.jsx)("img",{src:t,alt:r,className:m.a.itemImage})},a)};d.propeType={url:l.a.string.isRequired,id:l.a.string.isRequired,largeImage:l.a.string.isRequired,tags:l.a.string.isRequired,toggleModal:l.a.func.isRequired,handleLargeImage:l.a.func.isRequired};var g=d,j=a(16),f=a.n(j),p=function(e){var t=e.images,a=e.toggleModal,n=e.handleLargeImage;return Object(b.jsx)("ul",{className:f.a.gallery,children:t.map((function(e){var t=e.webformatURL,r=e.id,c=e.tags,o=e.largeImageURL;return Object(b.jsx)(g,{url:t,id:r,largeImage:o,tags:c,toggleModal:a,handleLargeImage:n})}))})},O=a(11),v=a.n(O),_=function(e){var t=e.title,a=e.type,n=void 0===a?"button":a,r=e.cbonClick;return Object(b.jsx)("div",{className:v.a.buttonThumb,children:Object(b.jsx)("button",{type:n,onClick:r,className:v.a.button,children:t})})},y=a(7),x=a(8),k=a(21),I=a(20),w=a(12),S=a.n(w),C=function(e){Object(k.a)(a,e);var t=Object(I.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).PropTypes={onCloseModal:l.a.func.isRequired},e.handleKeydown=function(t){"Escape"===t.code&&e.props.onCloseModal()},e.handleBackDropClick=function(t){t.currentTarget===t.target&&e.props.onCloseModal()},e}return Object(x.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){return Object(b.jsx)("div",{onClick:this.handleBackDropClick,className:S.a.overlay,children:Object(b.jsx)("div",{className:S.a.modal,children:this.props.children})})}}]),a}(n.Component),M=a(17),N=a.n(M),L=(a(48),a(13)),q=a.n(L),R=a(18),T=new(function(){function e(){Object(y.a)(this,e),this.query="",this.page=1}return Object(x.a)(e,[{key:"fatchImages",value:function(){var e=Object(R.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(this.query,"&page=").concat(this.page,"&per_page=12&key=").concat("21789749-6de12aa5ab416fe119ffd7e9c"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,this.incrementPage(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}());function F(e){var t=e.imageName,a=Object(n.useState)([]),r=Object(i.a)(a,2),c=r[0],o=r[1],u=Object(n.useState)(null),l=Object(i.a)(u,2),h=(l[0],l[1]),m=Object(n.useState)(!1),d=Object(i.a)(m,2),g=d[0],j=d[1],f=Object(n.useState)(""),O=Object(i.a)(f,2),v=O[0],y=O[1],x=Object(n.useState)(!1),k=Object(i.a)(x,2),I=k[0],w=k[1];Object(n.useEffect)((function(){""!==t&&(o([]),T.query=t,T.resetPage(),M())}),[t]);var S=function(){j((function(e){return!e}))},M=function(){w(!0),setTimeout((function(){T.fatchImages().then((function(e){var t=e.hits;return o((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))}))})).catch((function(e){return h(e)})).finally(w(!1))}),1e3)};return Object(b.jsxs)(b.Fragment,{children:[g&&Object(b.jsx)(C,{onCloseModal:S,children:Object(b.jsx)("img",{src:v,alt:"pics",width:"680",height:"500"})}),Object(b.jsx)(p,{images:c,toggleModal:S,handleLargeImage:function(e){y(e)}}),c.length>0&&!I&&Object(b.jsx)(_,{title:"Load More",cbonClick:function(){M()}}),I&&Object(b.jsx)(N.a,{type:"Bars",color:"#3f51b5",height:50,width:50,timeout:1e3})]})}var P=a(19),B=a.n(P),U=function(e){var t=e.children;return Object(b.jsx)("div",{className:B.a.container,children:t})},A=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(U,{children:t})})},D=a(5),E=a.n(D);function G(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(b.jsx)("header",{className:E.a.searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),o("")},className:E.a.searchForm,children:[Object(b.jsx)("button",{type:"submit",className:E.a.button}),Object(b.jsx)("input",{className:E.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}function J(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)(A,{children:[Object(b.jsx)(G,{onSubmit:function(e){r(e)}}),Object(b.jsx)(F,{imageName:a})]})}o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.7b2cb331.chunk.js.map