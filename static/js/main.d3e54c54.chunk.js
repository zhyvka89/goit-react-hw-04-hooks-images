(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={overlay:"Modal_overlay__2niAF",modal:"Modal_modal__19Qbm"}},14:function(e,t,a){e.exports={gallery:"ImageGalleryList_gallery__1AI4I"}},19:function(e,t,a){e.exports={container:"Container_container__2WUdA"}},24:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(13),i=a.n(c),o=(a(24),a(3)),s=a(12),u=a(2),l=a.n(u),g=a(8),m=a.n(g),b=a(0),h=function(e){var t=e.url,a=e.id,n=e.largeImage,r=e.tags,c=e.toggleModal,i=e.handleLargeImage;return Object(b.jsx)("li",{className:m.a.item,onClick:function(){return c(),void i(n)},children:Object(b.jsx)("img",{src:t,alt:r,className:m.a.itemImage})},a)};h.propeType={url:l.a.string.isRequired,id:l.a.string.isRequired,largeImage:l.a.string.isRequired,tags:l.a.string.isRequired,toggleModal:l.a.func.isRequired,handleLargeImage:l.a.func.isRequired};var d=h,j=a(14),f=a.n(j),p=function(e){var t=e.images,a=e.toggleModal,n=e.handleLargeImage;return Object(b.jsx)("ul",{className:f.a.gallery,children:t.map((function(e){var t=e.webformatURL,r=e.id,c=e.tags,i=e.largeImageURL;return Object(b.jsx)(d,{url:t,id:r,largeImage:i,tags:c,toggleModal:a,handleLargeImage:n})}))})},O=a(9),_=a.n(O),v=function(e){var t=e.title,a=e.type,n=void 0===a?"button":a,r=e.cbonClick;return Object(b.jsx)("div",{className:_.a.buttonThumb,children:Object(b.jsx)("button",{type:n,onClick:r,className:_.a.button,children:t})})},x=a(10),y=a.n(x);function I(e){var t=e.children,a=e.onCloseModal;Object(n.useEffect)((function(){function e(e){"Escape"===e.code&&a()}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[a]);return Object(b.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&a()},className:y.a.overlay,children:Object(b.jsx)("div",{className:y.a.modal,children:t})})}var w=a(15),S=a.n(w),k=(a(46),a(11)),N=a.n(k),C=a(16),L=a(17),M=a(18),q=new(function(){function e(){Object(L.a)(this,e),this.query="",this.page=1}return Object(M.a)(e,[{key:"fatchImages",value:function(){var e=Object(C.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(this.query,"&page=").concat(this.page,"&per_page=12&key=").concat("21789749-6de12aa5ab416fe119ffd7e9c"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,this.incrementPage(),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"incrementPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),e}());function R(e){var t=e.imageName,a=Object(n.useState)([]),r=Object(o.a)(a,2),c=r[0],i=r[1],u=Object(n.useState)(!1),l=Object(o.a)(u,2),g=l[0],m=l[1],h=Object(n.useState)(""),d=Object(o.a)(h,2),j=d[0],f=d[1],O=Object(n.useState)(!1),_=Object(o.a)(O,2),x=_[0],y=_[1];Object(n.useEffect)((function(){""!==t&&(i([]),q.query=t,q.resetPage(),k())}),[t]);var w=function(){m((function(e){return!e}))},k=function(){y(!0),setTimeout((function(){q.fatchImages().then((function(e){var t=e.hits;return i((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))}))})).catch((function(e){return console.log(e)})).finally(y(!1))}),1e3)};return Object(b.jsxs)(b.Fragment,{children:[g&&Object(b.jsx)(I,{onCloseModal:w,children:Object(b.jsx)("img",{src:j,alt:"pics",width:"680",height:"500"})}),Object(b.jsx)(p,{images:c,toggleModal:w,handleLargeImage:function(e){f(e)}}),c.length>0&&!x&&Object(b.jsx)(v,{title:"Load More",cbonClick:k}),x&&Object(b.jsx)(S.a,{type:"Bars",color:"#3f51b5",height:50,width:50,timeout:1e3})]})}var T=a(19),F=a.n(T),E=function(e){var t=e.children;return Object(b.jsx)("div",{className:F.a.container,children:t})},P=function(e){var t=e.children;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(E,{children:t})})},G=a(5),U=a.n(G);function A(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(b.jsx)("header",{className:U.a.searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(c),i("")},className:U.a.searchForm,children:[Object(b.jsx)("button",{type:"submit",className:U.a.button}),Object(b.jsx)("input",{className:U.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})}function B(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(b.jsxs)(P,{children:[Object(b.jsx)(A,{onSubmit:function(e){r(e)}}),Object(b.jsx)(R,{imageName:a})]})}i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(B,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__181Sr",searchForm:"Searchbar_searchForm__3UkJc",button:"Searchbar_button__2FTeX",input:"Searchbar_input__3Uiyh"}},8:function(e,t,a){e.exports={item:"ImageGalleryItem_item__ChwGR",itemImage:"ImageGalleryItem_itemImage__3vgJT","item-image":"ImageGalleryItem_item-image__36SPS"}},9:function(e,t,a){e.exports={buttonThumb:"Button_buttonThumb__PAxfu",button:"Button_button__3bDwX"}}},[[48,1,2]]]);
//# sourceMappingURL=main.d3e54c54.chunk.js.map