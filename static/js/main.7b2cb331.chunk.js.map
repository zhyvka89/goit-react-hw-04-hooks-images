{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGalleryList/ImageGalleryList.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGalleryList/ImageGalleryList.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","services/apiImageService.js","components/Container/Container.js","components/Layout/Layout.js","components/Searchbar/Searchbar.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","url","id","largeImage","tags","toggleModal","handleLargeImage","className","styles","item","onClick","src","alt","itemImage","propeType","PropTypes","string","isRequired","func","ImageGalleryList","images","gallery","map","webformatURL","largeImageURL","Button","title","type","cbonClick","buttonThumb","button","Modal","onCloseModal","handleKeydown","e","code","props","handleBackDropClick","currentTarget","target","window","addEventListener","this","removeEventListener","overlay","modal","children","Component","imagesApi","query","page","a","fetch","response","json","parsedResponse","incrementPage","ImageGallery","imageName","useState","setImages","setError","showModal","setShowModal","setLargeImage","loading","setLoading","useEffect","resetPage","getImages","prev","setTimeout","fatchImages","then","hits","catch","error","finally","width","height","image","length","color","timeout","Container","container","Layout","Searchbar","onSubmit","setImageName","searchbar","preventDefault","searchForm","input","autoComplete","autoFocus","placeholder","value","onChange","toLowerCase","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7b2cb331.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__ChwGR\",\"itemImage\":\"ImageGalleryItem_itemImage__3vgJT\",\"item-image\":\"ImageGalleryItem_item-image__36SPS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonThumb\":\"Button_buttonThumb__PAxfu\",\"button\":\"Button_button__3bDwX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2niAF\",\"modal\":\"Modal_modal__19Qbm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGalleryList_gallery__1AI4I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2WUdA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__181Sr\",\"searchForm\":\"Searchbar_searchForm__3UkJc\",\"button\":\"Searchbar_button__2FTeX\",\"input\":\"Searchbar_input__3Uiyh\"};","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  url,\n  id,\n  largeImage,\n  tags,\n  toggleModal,\n  handleLargeImage,\n}) => {\n  const handleModalOpen = () => {\n    toggleModal();\n    handleLargeImage(largeImage);\n  };\n\n  return (\n    <li className={styles.item} key={id} onClick={() => handleModalOpen()}>\n      <img src={url} alt={tags} className={styles.itemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propeType = {\n  url: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  largeImage: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport styles from './ImageGalleryList.module.css';\r\n\r\nconst ImageGalleryList = ({ images, toggleModal, handleLargeImage }) => {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      {images.map(({ webformatURL, id, tags, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            url={webformatURL}\r\n            id={id}\r\n            largeImage={largeImageURL}\r\n            tags={tags}\r\n            toggleModal={toggleModal}\r\n            handleLargeImage={handleLargeImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nImageGalleryList.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n  handleLargeImage: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGalleryList;","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ title, type = 'button', cbonClick }) => {\n  return (\n    <div className={styles.buttonThumb}>\n      <button type={type} onClick={cbonClick} className={styles.button}>\n        {title}\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  type: PropTypes.string,\n  cbonClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  PropTypes = {\n    onCloseModal: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackDropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return (\n      <div onClick={this.handleBackDropClick} className={styles.overlay}>\n        <div className={styles.modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n","import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryList from '../ImageGalleryList';\n\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\n\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport ImagesApi from '../../services/apiImageService';\nconst imagesApi = new ImagesApi();\n\nexport default function ImageGallery({ imageName }) {\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImage, setLargeImage] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (imageName === '') return;\n    setImages([]);\n    imagesApi.query = imageName;\n    imagesApi.resetPage();\n    getImages();\n  }, [imageName])\n\n  const toggleModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  const handleLargeImage = image => {\n    setLargeImage(image);\n  };\n\n  const handleBtnClick = () => {\n    getImages();\n  };\n\n  const getImages = () => {\n    setLoading(true);\n\n    setTimeout(() => {\n      imagesApi\n        .fatchImages()\n        .then(({ hits }) => setImages(prev => [...prev, ...hits]))\n        .catch(error => setError(error))\n        .finally(setLoading(false));\n    }, 1000);\n  };\n\n  return (\n    <>\n      {showModal && (\n        <Modal onCloseModal={toggleModal}>\n          <img src={largeImage} alt=\"pics\" width=\"680\" height=\"500\" />\n        </Modal>\n      )}\n\n      <ImageGalleryList\n        images={images}\n        toggleModal={toggleModal}\n        handleLargeImage={handleLargeImage}\n      />\n\n      {images.length > 0 && !loading && (\n        <Button title=\"Load More\" cbonClick={handleBtnClick} />\n      )}\n\n      {loading && (\n        <Loader\n          type=\"Bars\"\n          color=\"#3f51b5\"\n          height={50}\n          width={50}\n          timeout={1000}\n        />\n      )}\n    </>\n  );\n}\n\n  ImageGallery.propTypes = {\n    imageName: PropTypes.string.isRequired,\n  };\n\n// export default class ImageGallery extends Component {\n//   state = {\n//     images: [],\n//     error: null,\n//     showModal: false,\n//     largeImage: '',\n//     loading: false,\n//   };\n\n//   PropTypes = {\n//     imageName: PropTypes.string.isRequired,\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const prevName = prevProps.imageName;\n//     const currentName = this.props.imageName;\n\n//     if (prevName !== currentName) {\n//       this.setState({ images: [] });\n//       imagesApi.query = currentName;\n//       imagesApi.resetPage();\n//       this.getImages();\n//     }\n\n//     window.scrollTo({\n//       top: document.documentElement.scrollHeight,\n//       behavior: 'smooth',\n//     });\n//   }\n\n//   toggleModal = () => {\n//     this.setState(prevState => ({\n//       showModal: !prevState.showModal,\n//     }));\n//   };\n\n//   handleLargeImage = image => {\n//     this.setState({ largeImage: image });\n//   };\n\n//   handleBtnClick = () => {\n//     this.getImages();\n//   };\n\n//   getImages = () => {\n//     this.setState({ loading: true });\n\n//     setTimeout(() => {\n//       imagesApi\n//         .fatchImages()\n//         .then(({ hits }) =>\n//           this.setState(prevState => ({\n//             images: [...prevState.images, ...hits],\n//           })),\n//         )\n//         .catch(error => {\n//           this.setState({ error });\n//           console.log(error);\n//         })\n//         .finally(this.setState({ loading: false }));\n//     }, 1000);\n//   };\n\n//   render() {\n//     const { showModal, loading, images, largeImage } = this.state;\n\n//     return (\n//       <>\n//         {showModal && (\n//           <Modal onCloseModal={this.toggleModal}>\n//             <img src={largeImage} alt=\"pics\" width=\"680\" height=\"500\" />\n//           </Modal>\n//         )}\n\n//         <ul className={styles.gallery}>\n//           {images.map(({ webformatURL, id, tags, largeImageURL }) => {\n//             return (\n//               <ImageGalleryItem\n//                 url={webformatURL}\n//                 id={id}\n//                 largeImage={largeImageURL}\n//                 tags={tags}\n//                 toggleModal={this.toggleModal}\n//                 handleLargeImage={this.handleLargeImage}\n//               />\n//             );\n//           })}\n//         </ul>\n\n//         {images.length > 0 && !loading && (\n//           <Button title=\"Load More\" cbonClick={this.handleBtnClick} />\n//         )}\n\n//         {loading && (\n//           <Loader\n//             type=\"Bars\"\n//             color=\"#3f51b5\"\n//             height={50}\n//             width={50}\n//             timeout={1000}\n//           />\n//         )}\n//       </>\n//     );\n//   }\n// }\n","const KEY = '21789749-6de12aa5ab416fe119ffd7e9c';\n\nexport default class ImagesApi {\n  constructor() {\n    this.query = '';\n    this.page = 1;\n  }\n\n  async fatchImages() {\n    const response = await fetch(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${KEY}`,\n    );\n    const parsedResponse = await response.json();\n    this.incrementPage();\n    return parsedResponse;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n","import PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={styles.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Container;\n","import PropTypes from 'prop-types';\nimport Container from '../Container/Container';\n\nconst Layout = ({ children }) => {\n  return (\n    <>\n      <Container>{children}</Container>\n    </>\n  );\n};\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleImageNameChange = e => {\n    setImageName(e.currentTarget.value.toLowerCase());\n  };\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n    return (\n      <header className={styles.searchbar}>\n        <form onSubmit={handlerSubmit} className={styles.searchForm}>\n          <button type=\"submit\" className={styles.button}></button>\n\n          <input\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={imageName}\n            onChange={handleImageNameChange}\n          />\n        </form>\n      </header>\n    );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};","import { useState } from 'react';\n\nimport ImageGallery from './components/ImageGallery';\nimport Layout from './components/Layout';\nimport Searchbar from './components/Searchbar';\n\nexport default function App() {\n  const [imageName, setImageName] = useState('');\n\n  const handleFormSubmit = imageName => {\n    setImageName(imageName);\n  };\n\n    return (\n      <Layout>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery imageName={imageName} />\n      </Layout>\n    );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}